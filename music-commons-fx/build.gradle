plugins {
    id 'org.openjfx.javafxplugin' version '0.1.0'
}

description 'Transgressoft Music Commons - JavaFX'

javafx {
    version = JavaVersion.VERSION_17
    modules = ['javafx.controls']
}

tasks.register('runWaveformPaneDemo', JavaExec) {
    group = "Execution"
    description = "Run WaveformPaneDemo"
    classpath = sourceSets.test.runtimeClasspath
    mainClass = "net.transgressoft.commons.fx.music.waveform.WaveformPaneDemo"
}

dependencies {
    api project(path: ':music-commons-core')
    implementation 'com.google.guava:guava:33.2.1-jre'
    implementation 'net.jthink:jaudiotagger:3.0.1'
    implementation 'net.transgressoft:transgressoft-commons-core:1.47'
    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.8.1'
    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-javafx:1.8.1'
    implementation 'org.jetbrains.kotlinx:kotlinx-serialization-json:1.7.1'
    implementation 'org.openjfx:javafx-controls:[22.0.1,)'

    testImplementation(platform('org.junit:junit-bom:5.10.3'))
    testImplementation('org.junit.jupiter:junit-jupiter')
    testImplementation "io.kotest:kotest-assertions-json:$kotestVersion"
    testImplementation "io.kotest:kotest-runner-junit5:$kotestVersion"
    testImplementation "io.kotest:kotest-property:$kotestVersion"
    testImplementation 'io.mockk:mockk:1.13.11'
    testImplementation 'org.awaitility:awaitility-kotlin:4.2.1'
    testImplementation 'org.testfx:testfx-core:4.0.18'
    testImplementation 'org.testfx:testfx-junit5:4.0.18'
}
